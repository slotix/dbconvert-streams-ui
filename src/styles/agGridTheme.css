/* Shared AG Grid theme styling with Tailwind colors */

.ag-theme-alpine {
  /* Tailwind color variables */
  --tw-gray-50: rgb(249 250 251 / 1);
  --tw-gray-100: rgb(243 244 246 / 1);
  --tw-gray-300: rgb(209 213 219 / 1);
  --tw-gray-400: rgb(156 163 175 / 1);
  --tw-gray-500: rgb(107 114 128 / 1);
  --tw-gray-600: rgb(75 85 99 / 1);
  --tw-gray-700: rgb(55 65 81 / 1);
  --tw-gray-900: rgb(17 24 39 / 1);
  --tw-white: rgb(255 255 255 / 1);

  /* AG Grid theme variables using Tailwind colors */
  --ag-font-family: ui-sans-serif, system-ui, -apple-system, sans-serif;
  --ag-font-size: 14px;
  --ag-header-height: 40px;
  --ag-row-height: 32px;
  --ag-border-color: var(--tw-gray-300);
  --ag-header-background-color: var(--tw-gray-50);
  --ag-odd-row-background-color: var(--tw-white);
  --ag-even-row-background-color: var(--tw-gray-50);

  /* Override accent color from blue (#2196f3) to gray */
  --ag-alpine-active-color: #4b5563; /* gray-600 */

  /* Override selection colors from blue to gray */
  --ag-selected-row-background-color: rgba(107, 114, 128, 0.3); /* gray-600 with transparency */
  --ag-row-hover-color: rgba(107, 114, 128, 0.1); /* gray-600 with transparency */
  --ag-column-hover-color: rgba(107, 114, 128, 0.1); /* gray-600 with transparency */
  --ag-input-focus-border-color: rgba(107, 114, 128, 0.4); /* gray-600 with transparency */
  --ag-range-selection-background-color: rgba(107, 114, 128, 0.2); /* gray-600 with transparency */
  --ag-range-selection-background-color-2: rgba(
    107,
    114,
    128,
    0.36
  ); /* gray-600 with transparency */
  --ag-range-selection-background-color-3: rgba(
    107,
    114,
    128,
    0.49
  ); /* gray-600 with transparency */
  --ag-range-selection-background-color-4: rgba(
    107,
    114,
    128,
    0.59
  ); /* gray-600 with transparency */
}

/* Always show menu icon for all columns */
.ag-theme-alpine :deep(.ag-header-cell-menu-button) {
  opacity: 1 !important;
  display: inline-flex !important;
  visibility: visible !important;
  width: auto !important;
  height: auto !important;
}

.ag-theme-alpine :deep(.ag-header-cell:hover .ag-header-cell-menu-button) {
  opacity: 1 !important;
  background-color: rgba(0, 0, 0, 0.05);
}

/* Add a subtle indicator for sortable columns */
.ag-theme-alpine :deep(.ag-header-cell.ag-header-cell-sortable:not(.ag-header-cell-sorted):hover) {
  background-color: var(--tw-gray-100);
}

/* Show sort icons for sortable columns on hover */
.ag-theme-alpine
  :deep(.ag-header-cell.ag-header-cell-sortable:not(.ag-header-cell-sorted):hover::after) {
  content: 'â‡…';
  margin-left: 4px;
  color: var(--tw-gray-400);
  font-size: 12px;
}

/* Make sure the menu button is visible in the header */
.ag-theme-alpine :deep(.ag-header-cell-comp-wrapper) {
  display: flex !important;
  align-items: center !important;
}

.ag-theme-alpine :deep(.ag-header-cell) {
  display: flex !important;
  align-items: center !important;
}

/* Highlight columns that have active filters */
.ag-theme-alpine :deep(.ag-header-cell-filtered) {
  background-color: var(--tw-gray-100) !important;
}

.ag-theme-alpine :deep(.ag-header-cell-filtered .ag-header-cell-menu-button) {
  opacity: 1;
  color: var(--tw-gray-700);
}

/* Override row hover color from light blue to gray */
.ag-theme-alpine :deep(.ag-row:hover) {
  background-color: var(--tw-gray-50) !important;
}

.ag-theme-alpine :deep(.ag-row-even:hover) {
  background-color: var(--tw-gray-100) !important;
}

/* ===========================
   Dark Mode Theme
   =========================== */

.dark .ag-theme-alpine {
  /* Pure gray color palette - no blue tint */
  --tw-gray-50: rgb(250 250 250);
  --tw-gray-100: rgb(245 245 245);
  --tw-gray-300: rgb(212 212 212);
  --tw-gray-400: rgb(163 163 163);
  --tw-gray-500: rgb(115 115 115);
  --tw-gray-600: rgb(82 82 82);
  --tw-gray-700: rgb(64 64 64);
  --tw-gray-800: rgb(38 38 38);
  --tw-gray-850: rgb(30 30 30);
  --tw-gray-900: rgb(23 23 23);
  --tw-teal-400: rgb(45 212 191);
  --tw-teal-500: rgb(20 184 166);

  /* AG Grid dark theme variables - pure gray backgrounds */
  --ag-background-color: rgb(30 30 30); /* Pure gray-850 */
  --ag-header-background-color: rgb(23 23 23); /* Pure gray-900 */
  --ag-odd-row-background-color: rgb(30 30 30); /* Pure gray-850 */
  --ag-even-row-background-color: rgb(38 38 38); /* Pure gray-800 */

  /* Text colors - neutral grays */
  --ag-foreground-color: rgb(245 245 245); /* Pure gray-100 */
  --ag-secondary-foreground-color: rgb(163 163 163); /* Pure gray-400 */
  --ag-header-foreground-color: rgb(245 245 245); /* Pure gray-100 */

  /* Borders - pure gray */
  --ag-border-color: rgb(64 64 64); /* Pure gray-700 */
  --ag-row-border-color: rgb(64 64 64);

  /* Selection and hover colors with teal accent */
  --ag-selected-row-background-color: rgba(20, 184, 166, 0.15);
  --ag-row-hover-color: rgb(64 64 64); /* Pure gray-700 */

  /* Input styling */
  --ag-input-border-color: rgb(64 64 64);
  --ag-input-disabled-background-color: rgb(38 38 38);

  /* Accent colors - teal for dark mode */
  --ag-checkbox-checked-color: rgb(20 184 166);
  --ag-range-selection-background-color: rgba(20, 184, 166, 0.15);

  /* Header interactions */
  --ag-header-cell-hover-background-color: rgb(38 38 38); /* Pure gray-800 */
  --ag-header-cell-moving-background-color: rgb(64 64 64);

  /* Active/focus colors - teal accent */
  --ag-alpine-active-color: rgb(20 184 166);
  --ag-input-focus-border-color: rgb(45 212 191);

  /* Range selection colors with teal */
  --ag-range-selection-background-color-2: rgba(20, 184, 166, 0.25);
  --ag-range-selection-background-color-3: rgba(20, 184, 166, 0.35);
  --ag-range-selection-background-color-4: rgba(20, 184, 166, 0.45);
}

/* Dark mode scrollbars */
.dark .ag-theme-alpine ::-webkit-scrollbar {
  background-color: var(--tw-gray-800);
}

.dark .ag-theme-alpine ::-webkit-scrollbar-thumb {
  background-color: var(--tw-gray-600);
  border-radius: 4px;
}

.dark .ag-theme-alpine ::-webkit-scrollbar-thumb:hover {
  background-color: var(--tw-gray-500);
}

/* Dark mode header cell styling - pure gray, no blue tint */
.dark .ag-theme-alpine :deep(.ag-header-cell) {
  background-color: rgb(23 23 23) !important; /* Pure gray-900 */
  color: rgb(245 245 245) !important; /* Pure gray-100 */
  font-weight: 600;
  border-bottom: 1px solid rgb(64 64 64); /* Pure gray-700 */
}

/* Dark mode header cell hover */
.dark
  .ag-theme-alpine
  :deep(.ag-header-cell.ag-header-cell-sortable:not(.ag-header-cell-sorted):hover) {
  background-color: var(--tw-gray-800);
}

/* Dark mode menu button hover */
.dark .ag-theme-alpine :deep(.ag-header-cell:hover .ag-header-cell-menu-button) {
  opacity: 1 !important;
  background-color: rgba(255, 255, 255, 0.1);
}

/* Dark mode filtered column highlight */
.dark .ag-theme-alpine :deep(.ag-header-cell-filtered) {
  background-color: var(--tw-gray-700) !important;
}

.dark .ag-theme-alpine :deep(.ag-header-cell-filtered .ag-header-cell-menu-button) {
  opacity: 1;
  color: var(--tw-gray-300);
}

/* Dark mode header text styling */
.dark .ag-theme-alpine :deep(.ag-header-cell-text) {
  color: var(--tw-gray-100);
  font-weight: 600;
}

/* Dark mode row hover */
.dark .ag-theme-alpine :deep(.ag-row:hover) {
  background-color: var(--tw-gray-700) !important;
}

.dark .ag-theme-alpine :deep(.ag-row-even:hover) {
  background-color: rgba(55, 65, 81, 0.8) !important;
}

/* Dark mode filter menu/dialog */
.dark .ag-theme-alpine .ag-menu {
  background-color: var(--tw-gray-800) !important;
  border: 1px solid var(--tw-gray-700) !important;
}

.dark .ag-theme-alpine .ag-input-field-input,
.dark .ag-theme-alpine .ag-select,
.dark .ag-theme-alpine .ag-picker-field-wrapper {
  background-color: var(--tw-gray-850) !important;
  color: var(--tw-gray-100) !important;
  border-color: var(--tw-gray-700) !important;
}
